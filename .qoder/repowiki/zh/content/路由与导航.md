# è·¯ç”±ä¸å¯¼èˆª

<cite>
**æœ¬æ–‡å¼•ç”¨çš„æ–‡ä»¶åˆ—è¡¨**
- [src/router/index.ts](file://src/router/index.ts)
- [src/App.vue](file://src/App.vue)
- [src/main.ts](file://src/main.ts)
- [src/components/Common/AppLayout.vue](file://src/components/Common/AppLayout.vue)
- [src/views/HomePage.vue](file://src/views/HomePage.vue)
- [src/views/Home.vue](file://src/views/Home.vue)
- [src/views/InvoiceParsing.vue](file://src/views/InvoiceParsing.vue)
- [src/views/InvoiceContent.vue](file://src/views/InvoiceContent.vue)
- [src/views/InvoiceRename.vue](file://src/views/InvoiceRename.vue)
- [src/components/Common/NotFound.vue](file://src/components/Common/NotFound.vue)
</cite>

## ç›®å½•
1. [ç®€ä»‹](#ç®€ä»‹)
2. [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
3. [æ ¸å¿ƒç»„ä»¶](#æ ¸å¿ƒç»„ä»¶)
4. [æ¶æ„æ€»è§ˆ](#æ¶æ„æ€»è§ˆ)
5. [è¯¦ç»†ç»„ä»¶åˆ†æ](#è¯¦ç»†ç»„ä»¶åˆ†æ)
6. [ä¾èµ–å…³ç³»åˆ†æ](#ä¾èµ–å…³ç³»åˆ†æ)
7. [æ€§èƒ½è€ƒé‡](#æ€§èƒ½è€ƒé‡)
8. [æ•…éšœæ’æŸ¥æŒ‡å—](#æ•…éšœæ’æŸ¥æŒ‡å—)
9. [ç»“è®º](#ç»“è®º)
10. [é™„å½•ï¼šè·¯ç”±æ‰©å±•æŒ‡å—](#é™„å½•è·¯ç”±æ‰©å±•æŒ‡å—)

## ç®€ä»‹
æœ¬æ–‡ä»¶ç³»ç»Ÿæ€§é˜è¿°å‰ç«¯è·¯ç”±é…ç½®ä¸å¯¼èˆªæœºåˆ¶çš„å®ç°ï¼Œå›´ç»• router/index.ts çš„è·¯ç”±è¡¨å®šä¹‰ã€AppLayout å¸ƒå±€å®¹å™¨çš„å¯¼èˆªåè°ƒã€404 é¡µé¢å…œåº•ç­–ç•¥ã€ç¼–ç¨‹å¼å¯¼èˆªå®è·µä»¥åŠæœªæ¥æ‰©å±•å»ºè®®å±•å¼€ã€‚è¯»è€…æ— éœ€æ·±å…¥æºç å³å¯ç†è§£ä»å…¥å£åˆ°è§†å›¾æ¸²æŸ“ã€ä»èœå•åˆ°é¢åŒ…å±‘ã€ä»é¦–é¡µåˆ°å„åŠŸèƒ½é¡µé¢çš„å®Œæ•´æµç¨‹ã€‚

## é¡¹ç›®ç»“æ„
æœ¬é¡¹ç›®é‡‡ç”¨"æŒ‰åŠŸèƒ½åˆ†å±‚"çš„ç»„ç»‡æ–¹å¼ï¼š
- åº”ç”¨å…¥å£ä¸å…¨å±€æ³¨å…¥ï¼šmain.ts æ³¨å†Œ Pinia å’Œ Vue Routerï¼›App.vue ä½œä¸ºæ ¹ç»„ä»¶ï¼ŒåŒ…è£¹ä¸»é¢˜ä¸é€šçŸ¥ä½“ç³»ï¼Œå¹¶é€šè¿‡ AppLayout ç»Ÿä¸€å¸ƒå±€ã€‚
- è·¯ç”±å±‚ï¼šrouter/index.ts å®šä¹‰è·¯ç”±è¡¨ï¼ŒåŒ…å«é¦–é¡µã€å‘ç¥¨é‡å‘½åã€å‘ç¥¨è§£æã€å‘ç¥¨å†…å®¹è§£æä¸ 404ã€‚
- è§†å›¾å±‚ï¼šviews ä¸‹çš„ HomePageã€InvoiceRenameã€InvoiceParsingã€InvoiceContent å¯¹åº”ä¸åŒä¸šåŠ¡é¡µé¢ã€‚
- å¸ƒå±€ä¸é€šç”¨ç»„ä»¶ï¼šcomponents/Common/AppLayout.vue æä¾›ä¾§è¾¹èœå•ã€é¢åŒ…å±‘ã€æ ‡é¢˜ä¸å†…å®¹åŒºæ’æ§½ï¼›components/Common/NotFound.vue æä¾› 404 é¡µé¢ä¸å€’è®¡æ—¶è¿”å›é¦–é¡µã€‚
- å·¥å…·ä¸ç»„åˆå¼å‡½æ•°ï¼šcomposables/useTheme.ts ç­‰ç”¨äºä¸»é¢˜åˆ‡æ¢ï¼›stores/ ä¸ composables/ å†…éƒ¨æ¨¡å—è´Ÿè´£çŠ¶æ€ä¸ä¸šåŠ¡é€»è¾‘ã€‚

```mermaid
graph TB
A["main.ts<br/>åˆ›å»ºåº”ç”¨å¹¶æ³¨å†Œæ’ä»¶"] --> B["App.vue<br/>å…¨å±€ä¸»é¢˜ä¸é€šçŸ¥åŒ…è£…å™¨"]
B --> C["AppLayout.vue<br/>å¸ƒå±€å®¹å™¨èœå•/é¢åŒ…å±‘/å†…å®¹æ’æ§½"]
C --> D["router-view<br/>è·¯ç”±è§†å›¾å ä½"]
E["router/index.ts<br/>è·¯ç”±è¡¨å®šä¹‰"] --> D
F["HomePage.vue"] --> D
G["InvoiceRename.vue"] --> D
H["InvoiceParsing.vue"] --> D
I["InvoiceContent.vue"] --> D
J["NotFound.vue"] --> D
```

å›¾è¡¨æ¥æº
- [src/main.ts](file://src/main.ts#L1-L12)
- [src/App.vue](file://src/App.vue#L1-L23)
- [src/components/Common/AppLayout.vue](file://src/components/Common/AppLayout.vue#L1-L104)
- [src/router/index.ts](file://src/router/index.ts#L1-L47)

ç« èŠ‚æ¥æº
- [src/main.ts](file://src/main.ts#L1-L12)
- [src/App.vue](file://src/App.vue#L1-L23)

## æ ¸å¿ƒç»„ä»¶
- è·¯ç”±è¡¨ä¸å†å²æ¨¡å¼ï¼šä½¿ç”¨ createRouter ä¸ createWebHistoryï¼Œroutes æ•°ç»„å®šä¹‰äº†å››æ¡é™æ€è·¯ç”±ä¸ä¸€æ¡é€šé…ç¬¦ 404 è·¯ç”±ã€‚
- è§†å›¾ç»„ä»¶æ˜ å°„ï¼šæ¯æ¡è·¯ç”±ç»‘å®šä¸€ä¸ªå…·ä½“è§†å›¾ç»„ä»¶ï¼Œmeta ä¸­è®¾ç½®æ ‡é¢˜ï¼Œä¾¿äºé¢åŒ…å±‘ä¸é¡µé¢æ ‡é¢˜è”åŠ¨ã€‚
- å¸ƒå±€å®¹å™¨ï¼šAppLayout.vue ä½œä¸ºå…¨å±€å¸ƒå±€ï¼Œå†…éƒ¨åŒ…å«ä¾§è¾¹èœå•ã€é¢åŒ…å±‘ã€å¤´éƒ¨æ ‡é¢˜ä¸å†…å®¹åŒºæ’æ§½ï¼Œé€šè¿‡ router-view æ¸²æŸ“å½“å‰è·¯ç”±è§†å›¾ã€‚
- 404 é¡µé¢ï¼šNotFound.vue æä¾›ç»Ÿä¸€çš„ 404 å±•ç¤ºä¸å€’è®¡æ—¶è‡ªåŠ¨è¿”å›é¦–é¡µèƒ½åŠ›ã€‚

ç« èŠ‚æ¥æº
- [src/router/index.ts](file://src/router/index.ts#L7-L39)
- [src/components/Common/AppLayout.vue](file://src/components/Common/AppLayout.vue#L1-L104)
- [src/components/Common/NotFound.vue](file://src/components/Common/NotFound.vue#L1-L20)

## æ¶æ„æ€»è§ˆ
ä¸‹å›¾å±•ç¤ºä»åº”ç”¨å¯åŠ¨åˆ°è·¯ç”±æ¸²æŸ“çš„å…³é”®äº¤äº’é“¾è·¯ï¼Œä»¥åŠå¸ƒå±€å®¹å™¨å¦‚ä½•åè°ƒå¯¼èˆªä¸å†…å®¹ã€‚

```mermaid
sequenceDiagram
participant U as "ç”¨æˆ·"
participant M as "main.ts"
participant APP as "App.vue"
participant L as "AppLayout.vue"
participant R as "router/index.ts"
participant V as "router-view"
participant H as "HomePage.vue"
participant IR as "InvoiceRename.vue"
participant IP as "InvoiceParsing.vue"
participant IC as "InvoiceContent.vue"
participant NF as "NotFound.vue"
U->>M : å¯åŠ¨åº”ç”¨
M->>APP : åˆ›å»ºå¹¶æŒ‚è½½åº”ç”¨
APP->>L : æ¸²æŸ“å¸ƒå±€å®¹å™¨
L->>V : æ’æ§½ä¸­æ”¾ç½® router-view
U->>R : è®¿é—®è·¯å¾„å¦‚ /
R-->>V : åŒ¹é…è·¯ç”±å¹¶æ¸²æŸ“å¯¹åº”è§†å›¾
V-->>H : æ¸²æŸ“ HomePage
U->>L : ç‚¹å‡»èœå•/é¢åŒ…å±‘
L->>R : router.push(...)
R-->>V : åˆ‡æ¢è§†å›¾
V-->>IR : æ¸²æŸ“ InvoiceRename
V-->>IP : æ¸²æŸ“ InvoiceParsing
V-->>IC : æ¸²æŸ“ InvoiceContent
U->>R : è®¿é—®ä¸å­˜åœ¨è·¯å¾„
R-->>NF : æ¸²æŸ“ 404 é¡µé¢
```

å›¾è¡¨æ¥æº
- [src/main.ts](file://src/main.ts#L1-L12)
- [src/App.vue](file://src/App.vue#L7-L13)
- [src/components/Common/AppLayout.vue](file://src/components/Common/AppLayout.vue#L135-L249)
- [src/router/index.ts](file://src/router/index.ts#L34-L39)
- [src/views/HomePage.vue](file://src/views/HomePage.vue#L80-L90)
- [src/views/InvoiceRename.vue](file://src/views/InvoiceRename.vue#L1-L309)
- [src/views/InvoiceParsing.vue](file://src/views/InvoiceParsing.vue#L1-L315)
- [src/views/InvoiceContent.vue](file://src/views/InvoiceContent.vue#L1-L311)
- [src/components/Common/NotFound.vue](file://src/components/Common/NotFound.vue#L31-L45)

## è¯¦ç»†ç»„ä»¶åˆ†æ

### è·¯ç”±è¡¨ä¸å¯¼èˆªæœºåˆ¶
- è·¯ç”±è¡¨å®šä¹‰
  - æ ¹è·¯å¾„ "/" æ˜ å°„åˆ° HomePageï¼Œmeta.title ç”¨äºé¡µé¢æ ‡é¢˜ä¸é¢åŒ…å±‘æ ‡é¢˜è”åŠ¨ã€‚
  - "/invoice-rename" æ˜ å°„åˆ° InvoiceRenameï¼ˆå‘ç¥¨é‡å‘½åï¼‰ï¼Œmeta.title ç”¨äºé¢åŒ…å±‘ä¸æ ‡é¢˜ã€‚
  - "/invoice-parsing" æ˜ å°„åˆ° InvoiceParsingï¼ˆå‘ç¥¨è§£æï¼‰ï¼Œmeta.title ç”¨äºé¢åŒ…å±‘ä¸æ ‡é¢˜ã€‚
  - "/invoice-content" æ˜ å°„åˆ° InvoiceContentï¼ˆå‘ç¥¨å†…å®¹è§£æï¼‰ï¼Œmeta.title ç”¨äºé¢åŒ…å±‘ä¸æ ‡é¢˜ã€‚
  - é€šé…ç¬¦ "/:pathMatch(.*)*" æ˜ å°„åˆ° NotFoundï¼Œmeta.title ç”¨äº 404 é¡µé¢æ ‡é¢˜ã€‚
- å†å²æ¨¡å¼ä¸åŸºç¡€è·¯å¾„
  - ä½¿ç”¨ createWebHistory å¹¶ä¼ å…¥ import.meta.env.BASE_URLï¼Œç¡®ä¿åœ¨ä¸åŒéƒ¨ç½²ç¯å¢ƒä¸‹è·¯å¾„æ­£ç¡®ã€‚
- ç¼–ç¨‹å¼å¯¼èˆª
  - åœ¨ HomePage.vue ä¸­ï¼Œé€šè¿‡ useRouter è·å– router å®ä¾‹ï¼Œä½¿ç”¨ router.push å°†ç”¨æˆ·å¼•å¯¼è‡³å¯¹åº”åŠŸèƒ½é¡µé¢ã€‚
  - åœ¨ AppLayout.vue ä¸­ï¼Œèœå•ä¸é¢åŒ…å±‘ç‚¹å‡»äº‹ä»¶å‡è°ƒç”¨ router.push è¿›è¡Œé¡µé¢è·³è½¬ã€‚
- å¯¼èˆªå®ˆå«
  - å½“å‰è·¯ç”±é…ç½®æœªæ˜¾å¼å£°æ˜å¯¼èˆªå®ˆå«ï¼ˆbeforeEach/afterEach ç­‰ï¼‰ã€‚è‹¥éœ€é‰´æƒæˆ–æƒé™æ§åˆ¶ï¼Œå¯åœ¨ router/index.ts ä¸­æ‰©å±•ç›¸åº”é’©å­ã€‚

**æ›´æ–°** æ–°å¢äº†å‘ç¥¨å†…å®¹è§£æé¡µé¢çš„è·¯ç”±é…ç½®ï¼ŒåŒ…æ‹¬è·¯å¾„æ˜ å°„ã€èœå•é›†æˆå’Œé¢åŒ…å±‘æ”¯æŒã€‚

```mermaid
flowchart TD
Start(["è¿›å…¥è·¯ç”±é…ç½®"]) --> DefineRoutes["å®šä¹‰ routes æ•°ç»„<br/>åŒ…å«é¦–é¡µ/é‡å‘½å/è§£æ/å†…å®¹è§£æ/404"]
DefineRoutes --> History["åˆ›å»º router<br/>history: createWebHistory(BASE_URL)"]
History --> Export["å¯¼å‡ºè·¯ç”±å®ä¾‹"]
Export --> UseInApp["main.ts æ³¨å†Œè·¯ç”±æ’ä»¶"]
UseInApp --> RenderLayout["App.vue æ¸²æŸ“ AppLayout"]
RenderLayout --> LayoutContainer["AppLayout.vue æ¸²æŸ“ router-view"]
LayoutContainer --> MatchRoute{"åŒ¹é…å½“å‰è·¯å¾„"}
MatchRoute --> |"/"| HomePage["æ¸²æŸ“ HomePage.vue"]
MatchRoute --> |"/invoice-rename"| InvoiceRename["æ¸²æŸ“ InvoiceRename.vue"]
MatchRoute --> |"/invoice-parsing"| InvoiceParsing["æ¸²æŸ“ InvoiceParsing.vue"]
MatchRoute --> |"/invoice-content"| InvoiceContent["æ¸²æŸ“ InvoiceContent.vue"]
MatchRoute --> |å…¶ä»–| NotFound["æ¸²æŸ“ NotFound.vue"]
```

å›¾è¡¨æ¥æº
- [src/router/index.ts](file://src/router/index.ts#L7-L39)
- [src/main.ts](file://src/main.ts#L9-L11)
- [src/App.vue](file://src/App.vue#L7-L13)
- [src/components/Common/AppLayout.vue](file://src/components/Common/AppLayout.vue#L88-L92)
- [src/views/HomePage.vue](file://src/views/HomePage.vue#L80-L90)
- [src/views/InvoiceRename.vue](file://src/views/InvoiceRename.vue#L1-L309)
- [src/views/InvoiceParsing.vue](file://src/views/InvoiceParsing.vue#L1-L315)
- [src/views/InvoiceContent.vue](file://src/views/InvoiceContent.vue#L1-L311)
- [src/components/Common/NotFound.vue](file://src/components/Common/NotFound.vue#L1-L20)

ç« èŠ‚æ¥æº
- [src/router/index.ts](file://src/router/index.ts#L7-L39)
- [src/views/HomePage.vue](file://src/views/HomePage.vue#L80-L90)
- [src/components/Common/AppLayout.vue](file://src/components/Common/AppLayout.vue#L229-L245)

### AppLayout å¸ƒå±€å®¹å™¨ä¸å¯¼èˆªåè°ƒ
- èœå•ä¸é¢åŒ…å±‘
  - menuOptions å®šä¹‰ä¸¤çº§èœå•ï¼šé¦–é¡µä¸"å‘ç¥¨å·¥å…·"åˆ†ç»„ï¼Œåˆ†ç»„å†…åŒ…å«"å‘ç¥¨é‡å‘½å""å‘ç¥¨è§£æ""å‘ç¥¨å†…å®¹è§£æ"ä¸‰ä¸ªå­é¡¹ã€‚
  - breadcrumbs åŸºäºå½“å‰æ¿€æ´» key åŠ¨æ€ç”Ÿæˆï¼Œé™¤é¦–é¡µå¤–å‡æ˜¾ç¤ºé¢åŒ…å±‘è·¯å¾„ï¼Œé¦–é¡¹ä¸º"ğŸ  é¦–é¡µ"ï¼Œç¬¬äºŒé¡¹ä¸º"ğŸ“„ å‘ç¥¨å·¥å…·"ã€‚
- æ¿€æ´»çŠ¶æ€ä¸æ ‡é¢˜
  - activeKey åŸºäºå½“å‰è·¯ç”±è·¯å¾„è®¡ç®—ï¼Œç”¨äºé«˜äº®èœå•ä¸è®¾ç½®å¤´éƒ¨æ ‡é¢˜ã€‚
  - currentTitle é€šè¿‡éå†èœå•é€‰é¡¹æ ‘ï¼Œæ ¹æ® activeKey è·å–å½“å‰æ ‡é¢˜ã€‚
- ç¼–ç¨‹å¼å¯¼èˆª
  - handleMenuSelect ä¸ handleBreadcrumbClick å‡é€šè¿‡ router.push å®ç°é¡µé¢è·³è½¬ã€‚
- å†…å®¹åŒºæ’æ§½
  - AppLayout çš„å†…å®¹åŒºé€šè¿‡ <slot></slot> æ¥æ”¶ router-viewï¼Œå®ç°å¸ƒå±€ä¸è§†å›¾è§£è€¦ã€‚

**æ›´æ–°** èœå•é…ç½®å·²æ›´æ–°ï¼Œæ–°å¢äº†"å‘ç¥¨å†…å®¹è§£æ"èœå•é¡¹ï¼Œæ”¯æŒå®Œæ•´çš„å¯¼èˆªåŠŸèƒ½ã€‚

```mermaid
classDiagram
class AppLayout {
+activeKey : ComputedRef<string>
+menuOptions : any[]
+breadcrumbs : ComputedRef<any[]>
+currentTitle : ComputedRef<string>
+handleMenuSelect(key)
+handleBreadcrumbClick(key)
+handleGithubClick()
}
class Router {
+push(path)
}
AppLayout --> Router : "ä½¿ç”¨ router.push å¯¼èˆª"
```

å›¾è¡¨æ¥æº
- [src/components/Common/AppLayout.vue](file://src/components/Common/AppLayout.vue#L135-L249)

ç« èŠ‚æ¥æº
- [src/components/Common/AppLayout.vue](file://src/components/Common/AppLayout.vue#L140-L223)

### è§†å›¾ç»„ä»¶ä¸ç¼–ç¨‹å¼å¯¼èˆª
- HomePage.vue
  - é€šè¿‡ useRouter è·å– router å®ä¾‹ï¼Œåœ¨å·¥å…·å¡ç‰‡ç‚¹å‡»æ—¶è°ƒç”¨ router.push å°†ç”¨æˆ·å¼•å¯¼è‡³å¯¹åº”åŠŸèƒ½é¡µé¢ã€‚
- InvoiceRename.vueã€InvoiceParsing.vueã€InvoiceContent.vue
  - ä½œä¸ºåŠŸèƒ½é¡µé¢ï¼Œæ‰¿è½½å„è‡ªä¸šåŠ¡é€»è¾‘ä¸ UIï¼Œé…åˆ store/composable å®Œæˆæ–‡ä»¶ä¸Šä¼ ã€è§£æã€å¯¼å‡ºç­‰æ“ä½œã€‚
- NotFound.vue
  - æä¾› 404 é¡µé¢ä¸å€’è®¡æ—¶è‡ªåŠ¨è¿”å›é¦–é¡µçš„èƒ½åŠ›ï¼Œç”¨æˆ·ä¹Ÿå¯æ‰‹åŠ¨ç‚¹å‡»"è¿”å›é¦–é¡µ"ã€‚

**æ›´æ–°** æ–°å¢äº† InvoiceContent.vue ç»„ä»¶ï¼Œæä¾›å‘ç¥¨å†…å®¹è§£æåŠŸèƒ½ï¼Œæ”¯æŒPDFæ–‡ä»¶ä¸Šä¼ ã€é¡¹ç›®æ˜ç»†æå–å’ŒExcelå¯¼å‡ºã€‚

```mermaid
sequenceDiagram
participant U as "ç”¨æˆ·"
participant HP as "HomePage.vue"
participant R as "router"
participant L as "AppLayout.vue"
participant V as "router-view"
U->>HP : ç‚¹å‡»å·¥å…·å¡ç‰‡
HP->>R : router.push("/invoice-rename" æˆ– "/invoice-parsing" æˆ– "/invoice-content")
R-->>V : åˆ‡æ¢åˆ°ç›®æ ‡è§†å›¾
V-->>L : AppLayout æ¸²æŸ“å¯¹åº”é¡µé¢
```

å›¾è¡¨æ¥æº
- [src/views/HomePage.vue](file://src/views/HomePage.vue#L80-L90)
- [src/components/Common/AppLayout.vue](file://src/components/Common/AppLayout.vue#L229-L245)

ç« èŠ‚æ¥æº
- [src/views/HomePage.vue](file://src/views/HomePage.vue#L80-L90)
- [src/views/InvoiceRename.vue](file://src/views/InvoiceRename.vue#L1-L309)
- [src/views/InvoiceParsing.vue](file://src/views/InvoiceParsing.vue#L1-L315)
- [src/views/InvoiceContent.vue](file://src/views/InvoiceContent.vue#L1-L311)
- [src/components/Common/NotFound.vue](file://src/components/Common/NotFound.vue#L31-L45)

### 404 é¡µé¢å…œåº•ç­–ç•¥
- é€šé…ç¬¦è·¯ç”±
  - ä½¿ç”¨ "/:pathMatch(.*)*" åŒ¹é…æ‰€æœ‰æœªå‘½ä¸­è·¯ç”±ï¼Œç»Ÿä¸€æ¸²æŸ“ NotFound ç»„ä»¶ã€‚
- ç”¨æˆ·ä½“éªŒ
  - NotFound.vue å†…ç½®å€’è®¡æ—¶ï¼ˆé»˜è®¤ 5 ç§’ï¼‰è‡ªåŠ¨è¿”å›é¦–é¡µï¼ŒåŒæ—¶æä¾›"è¿”å›é¦–é¡µ"æŒ‰é’®ä»¥ä¾›æ‰‹åŠ¨æ“ä½œã€‚
  - ç»„ä»¶åœ¨å¸è½½æ—¶æ¸…ç†å®šæ—¶å™¨ï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚

```mermaid
flowchart TD
A["ç”¨æˆ·è®¿é—®æœªçŸ¥è·¯å¾„"] --> B["è·¯ç”±åŒ¹é…å¤±è´¥"]
B --> C["é€šé…ç¬¦è·¯ç”±å‘½ä¸­"]
C --> D["æ¸²æŸ“ NotFound.vue"]
D --> E{"å€’è®¡æ—¶ç»“æŸ?"}
E --> |æ˜¯| F["router.push('/') è‡ªåŠ¨è¿”å›é¦–é¡µ"]
E --> |å¦| G["ç­‰å¾…ç”¨æˆ·ç‚¹å‡»æŒ‰é’®"]
G --> H["router.push('/') æ‰‹åŠ¨è¿”å›é¦–é¡µ"]
```

å›¾è¡¨æ¥æº
- [src/router/index.ts](file://src/router/index.ts#L26-L31)
- [src/components/Common/NotFound.vue](file://src/components/Common/NotFound.vue#L31-L55)

ç« èŠ‚æ¥æº
- [src/router/index.ts](file://src/router/index.ts#L26-L31)
- [src/components/Common/NotFound.vue](file://src/components/Common/NotFound.vue#L31-L55)

## ä¾èµ–å…³ç³»åˆ†æ
- åº”ç”¨å¯åŠ¨ä¾èµ–
  - main.ts æ³¨å†Œ Pinia ä¸ routerï¼ŒApp.vue ä½œä¸ºæ ¹ç»„ä»¶ï¼ŒAppLayout ä½œä¸ºå¸ƒå±€å®¹å™¨ï¼Œrouter-view ä½œä¸ºè§†å›¾å ä½ã€‚
- è·¯ç”±ä¸è§†å›¾
  - router/index.ts å®šä¹‰è·¯ç”±ä¸ç»„ä»¶æ˜ å°„ï¼›AppLayout é€šè¿‡æ’æ§½æ¥æ”¶ router-viewï¼›HomePage/InvoiceRename/InvoiceParsing/InvoiceContent/NotFound åˆ†åˆ«æ¸²æŸ“å¯¹åº”é¡µé¢ã€‚
- å¯¼èˆªåä½œ
  - AppLayout çš„èœå•ä¸é¢åŒ…å±‘é€šè¿‡ router.push ååŒ HomePage çš„ç‚¹å‡»äº‹ä»¶ï¼Œå½¢æˆç»Ÿä¸€çš„å¯¼èˆªä½“éªŒã€‚

**æ›´æ–°** æ–°å¢äº† InvoiceContent.vue ç»„ä»¶çš„è·¯ç”±ä¾èµ–å…³ç³»ã€‚

```mermaid
graph LR
MAIN["main.ts"] --> APP["App.vue"]
APP --> LAYOUT["AppLayout.vue"]
LAYOUT --> VIEW["router-view"]
ROUTER["router/index.ts"] --> VIEW
VIEW --> HOME_PAGE["HomePage.vue"]
VIEW --> INVOICE_RENAME["InvoiceRename.vue"]
VIEW --> INVOICE_PARSING["InvoiceParsing.vue"]
VIEW --> INVOICE_CONTENT["InvoiceContent.vue"]
VIEW --> NOT_FOUND["NotFound.vue"]
```

å›¾è¡¨æ¥æº
- [src/main.ts](file://src/main.ts#L1-L12)
- [src/App.vue](file://src/App.vue#L1-L23)
- [src/components/Common/AppLayout.vue](file://src/components/Common/AppLayout.vue#L1-L104)
- [src/router/index.ts](file://src/router/index.ts#L1-L47)

ç« èŠ‚æ¥æº
- [src/main.ts](file://src/main.ts#L1-L12)
- [src/App.vue](file://src/App.vue#L1-L23)
- [src/components/Common/AppLayout.vue](file://src/components/Common/AppLayout.vue#L1-L104)
- [src/router/index.ts](file://src/router/index.ts#L1-L47)

## æ€§èƒ½è€ƒé‡
- è·¯ç”±æ‡’åŠ è½½
  - å½“å‰è·¯ç”±ç›´æ¥å¼•å…¥ç»„ä»¶ï¼Œæœªä½¿ç”¨åŠ¨æ€å¯¼å…¥è¿›è¡Œæ‡’åŠ è½½ã€‚å¯¹äºå¤§å‹é¡¹ç›®ï¼Œå»ºè®®å°†è§†å›¾ç»„ä»¶æ”¹ä¸ºåŠ¨æ€å¯¼å…¥ä»¥å‡å°‘é¦–å±åŒ…ä½“ä¸æå‡é¦–å±é€Ÿåº¦ã€‚
- è·¯ç”±å†å²æ¨¡å¼
  - ä½¿ç”¨ createWebHistoryï¼Œéœ€è¦æœåŠ¡å™¨ç«¯é…ç½®æ”¯æŒ SPA å›é€€åˆ° index.htmlã€‚ç¡®ä¿ç”Ÿäº§ç¯å¢ƒæ­£ç¡®é…ç½®ï¼Œé¿å…åˆ·æ–°å 404ã€‚
- å¸ƒå±€ä¸è§†å›¾è§£è€¦
  - AppLayout ä»…è´Ÿè´£å¯¼èˆªä¸å¸ƒå±€ï¼Œè§†å›¾ç‹¬ç«‹æ¸²æŸ“ï¼Œæœ‰åˆ©äºç¼“å­˜ä¸å¤ç”¨ã€‚

## æ•…éšœæ’æŸ¥æŒ‡å—
- æ— æ³•è®¿é—®ç‰¹å®šé¡µé¢
  - æ£€æŸ¥è·¯ç”±è¡¨æ˜¯å¦åŒ…å«å¯¹åº”è·¯å¾„ä¸ç»„ä»¶æ˜ å°„ï¼›ç¡®è®¤ App.vue ä¸­å·²æ­£ç¡®æŒ‚è½½ AppLayout ä¸ router-viewã€‚
- é¢åŒ…å±‘æˆ–èœå•é«˜äº®å¼‚å¸¸
  - æ£€æŸ¥ AppLayout.vue ä¸­ activeKey è®¡ç®—é€»è¾‘ä¸èœå• key æ˜¯å¦ä¸€è‡´ï¼›ç¡®è®¤è·¯ç”± meta.title ä¸é¢åŒ…å±‘æ ‡é¢˜è”åŠ¨ã€‚
- 404 é¡µé¢æœªå‡ºç°
  - ç¡®è®¤é€šé…ç¬¦è·¯ç”±å­˜åœ¨ä¸”ä½äºè·¯ç”±è¡¨æœ«å°¾ï¼›æ£€æŸ¥æœåŠ¡å™¨å›é€€é…ç½®æ˜¯å¦æ­£ç¡®ã€‚
- å¯¼èˆªæ— å“åº”
  - æ£€æŸ¥ router.push è°ƒç”¨æ˜¯å¦ä¼ å…¥æœ‰æ•ˆè·¯å¾„ï¼›ç¡®è®¤ main.ts å·²æ³¨å†Œ router æ’ä»¶ã€‚

**æ›´æ–°** æ–°å¢äº†å‘ç¥¨å†…å®¹è§£æé¡µé¢ç›¸å…³çš„æ•…éšœæ’æŸ¥æŒ‡å¯¼ã€‚

ç« èŠ‚æ¥æº
- [src/router/index.ts](file://src/router/index.ts#L7-L39)
- [src/components/Common/AppLayout.vue](file://src/components/Common/AppLayout.vue#L140-L147)
- [src/App.vue](file://src/App.vue#L7-L13)
- [src/main.ts](file://src/main.ts#L9-L11)

## ç»“è®º
æœ¬é¡¹ç›®é‡‡ç”¨ç®€æ´æ¸…æ™°çš„è·¯ç”±ä¸å¸ƒå±€è®¾è®¡ï¼šrouter/index.ts å®šä¹‰å››æ¡ä¸šåŠ¡è·¯ç”±ä¸ 404 å…œåº•ï¼›AppLayout.vue é€šè¿‡èœå•ä¸é¢åŒ…å±‘ç»Ÿä¸€å¯¼èˆªï¼›HomePage ä¸åŠŸèƒ½é¡µé¢é€šè¿‡ç¼–ç¨‹å¼å¯¼èˆªååŒå·¥ä½œã€‚æ•´ä½“ç»“æ„æ˜“äºç»´æŠ¤ä¸æ‰©å±•ï¼Œé€‚åˆè¿›ä¸€æ­¥å¼•å…¥æƒé™æ ¡éªŒã€è·¯ç”±æ‡’åŠ è½½ä¸å›½é™…åŒ–æ ‡é¢˜ç­‰ç‰¹æ€§ã€‚

**æ›´æ–°** æ–°å¢çš„å‘ç¥¨å†…å®¹è§£æåŠŸèƒ½å®Œå–„äº†å‘ç¥¨å¤„ç†å·¥å…·é“¾ï¼Œæä¾›äº†ä»æ–‡ä»¶é‡å‘½åã€å‘ç¥¨è§£æåˆ°å†…å®¹æå–çš„å®Œæ•´è§£å†³æ–¹æ¡ˆã€‚

## é™„å½•ï¼šè·¯ç”±æ‰©å±•æŒ‡å—
- æ–°å¢åŠŸèƒ½é¡µé¢æ­¥éª¤
  1) åœ¨ views ç›®å½•æ–°å¢é¡µé¢ç»„ä»¶ï¼ˆå¦‚ MyFeature.vueï¼‰ã€‚
  2) åœ¨ router/index.ts çš„ routes æ•°ç»„ä¸­æ·»åŠ æ–°è·¯ç”±é¡¹ï¼ŒæŒ‡å®š pathã€nameã€component ä¸ meta.titleã€‚
  3) åœ¨ AppLayout.vue çš„ menuOptions ä¸­ä¸ºè¯¥é¡µé¢æ·»åŠ èœå•é¡¹æˆ–å­èœå•é¡¹ã€‚
  4) å¦‚éœ€æƒé™æ§åˆ¶ï¼Œå¯åœ¨ router/index.ts ä¸­æ·»åŠ å¯¼èˆªå®ˆå«ï¼ˆbeforeEach/afterEachï¼‰ã€‚
  5) å¦‚éœ€ä¼˜åŒ–é¦–å±æ€§èƒ½ï¼Œå°†è§†å›¾ç»„ä»¶æ”¹ä¸ºåŠ¨æ€å¯¼å…¥ï¼ˆimport()ï¼‰ã€‚
- æœ€ä½³å®è·µ
  - è·¯ç”±å‘½åä¸è·¯å¾„ä¿æŒä¸€è‡´ï¼Œä¾¿äºè°ƒè¯•ä¸ç»´æŠ¤ã€‚
  - meta.title ä¸é¢åŒ…å±‘è”åŠ¨ï¼Œç¡®ä¿é¡µé¢æ ‡é¢˜ä¸€è‡´æ€§ã€‚
  - 404 é¡µé¢æä¾›æ˜ç¡®æç¤ºä¸è¿”å›é¦–é¡µæŒ‰é’®ï¼Œæ”¹å–„ç”¨æˆ·ä½“éªŒã€‚
  - æœåŠ¡å™¨ç«¯é…ç½® SPA å›é€€ï¼Œé¿å…åˆ·æ–°å 404ã€‚

**æ›´æ–°** æ–°å¢äº†å‘ç¥¨å†…å®¹è§£æé¡µé¢çš„æ‰©å±•æŒ‡å¯¼ã€‚

ç« èŠ‚æ¥æº
- [src/router/index.ts](file://src/router/index.ts#L7-L39)
- [src/components/Common/AppLayout.vue](file://src/components/Common/AppLayout.vue#L149-L170)
- [src/App.vue](file://src/App.vue#L7-L13)